#!/bin/zsh
#
# .zsh_plugins.txt - antidote plugins file
#
# Notes:
# - Plugin order matters for performance and functionality
# - Inspired by mattmc3/zdotdir for optimal startup time
# - Target: first_command_lag_ms < 200ms

###
### Core Framework & Theme
###

# Load theme first - powerlevel10k is fastest
romkatv/powerlevel10k

# Lightweight OMZ compatibility
getantidote/use-omz

###
### Environment & History
###

# Use zephyr instead of heavy OMZ libs - more modular and faster
mattmc3/zephyr path:plugins/history
mattmc3/zephyr path:plugins/environment
mattmc3/zephyr path:plugins/homebrew conditional:is-macos

###
### Completions (load before compinit)
###

mattmc3/ez-compinit
zsh-users/zsh-completions kind:fpath path:src

###
### Editor & Utilities
###

mattmc3/zephyr path:plugins/editor
mattmc3/zephyr path:plugins/color
mattmc3/zephyr path:plugins/directory
mattmc3/zephyr path:plugins/utility

###
### Clipboard
###

ohmyzsh/ohmyzsh path:lib/clipboard.zsh
ohmyzsh/ohmyzsh path:plugins/copybuffer
ohmyzsh/ohmyzsh path:plugins/copyfile
ohmyzsh/ohmyzsh path:plugins/copypath

###
### Essential OMZ Plugins
###

ohmyzsh/ohmyzsh path:plugins/extract
ohmyzsh/ohmyzsh path:plugins/fancy-ctrl-z
ohmyzsh/ohmyzsh path:plugins/git
ohmyzsh/ohmyzsh path:plugins/colored-man-pages
ohmyzsh/ohmyzsh path:plugins/tmux
ohmyzsh/ohmyzsh path:plugins/zoxide

###
### Conditional Platform-Specific
###

ohmyzsh/ohmyzsh path:plugins/macos conditional:is-macos
mattmc3/zephyr path:plugins/macos conditional:is-macos

###
### Heavy Plugins - Defer Loading
###

# Cloud & DevOps tools - defer for faster startup
ohmyzsh/ohmyzsh path:plugins/ansible kind:defer
ohmyzsh/ohmyzsh path:plugins/gcloud kind:defer
ohmyzsh/ohmyzsh path:plugins/kubectl kind:defer
ohmyzsh/ohmyzsh path:plugins/gh kind:defer

# Language tools - defer
ohmyzsh/ohmyzsh path:plugins/golang kind:defer
{{ if has "laku6" .workspaces -}}
ohmyzsh/ohmyzsh path:plugins/pyenv kind:defer
{{- end }}
ohmyzsh/ohmyzsh path:plugins/python kind:defer

# Other heavy plugins
ohmyzsh/ohmyzsh path:plugins/chezmoi kind:defer
# ohmyzsh/ohmyzsh path:plugins/otp kind:defer
# ohmyzsh/ohmyzsh path:plugins/thefuck kind:defer

# NVM - lazy load with defer
lukechilds/zsh-nvm kind:defer

###
### Interactive Tools
###

# fzf integration
aloxaf/fzf-tab

# Benchmarking
romkatv/zsh-bench kind:path

###
### Final - Load Last for Proper Hooking
###

# History search - load before syntax highlighting
zsh-users/zsh-history-substring-search

# Syntax highlighting - ONLY ONE, load near end
# Removed conflicting zsh-users/zsh-syntax-highlighting
zdharma-continuum/fast-syntax-highlighting

# Autosuggestions - after syntax highlighting
zsh-users/zsh-autosuggestions

# Autocomplete - LOAD LAST, can interfere with other plugins
marlonrichert/zsh-autocomplete

# vi: ft=zsh
